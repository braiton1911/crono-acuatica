<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Crono-Acuatica</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header class="header">
    <div class="brand">
      <!-- Logo (fallback: si no carga, muestra tiburÃ³n) -->
      <img
        src="./assets/logo-crono-acuatica.png"
        alt="Logo Crono-Acuatica"
        class="logo"
        onerror="this.outerHTML = document.getElementById('sharkFallback').outerHTML;"
      />

      <!-- Fallback tiburÃ³n (oculto, se usa si falla el logo) -->
      <svg id="sharkFallback" class="shark" viewBox="0 0 64 64" aria-hidden="true" style="display:none">
        <path d="M6 36c9-12 22-18 38-18 2-4 7-8 12-10-1 5-4 10-8 13 3 5 5 10 5 15 0 9-7 16-18 16H18c-6 0-10-4-12-9z" fill="white" opacity="0.92"/>
        <circle cx="43" cy="28" r="2.2" fill="#0b3c5d"/>
        <path d="M22 41l4 6 4-6 4 6 4-6" fill="none" stroke="#0b3c5d" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" opacity="0.95"/>
      </svg>

      <div>
        <h1>Crono-Acuatica</h1>
        <p class="sub">Pileta 25 m Â· Largada global Â· Llegadas por carril</p>
      </div>
    </div>
  </header>

  <section class="panel">
    <div class="chronoWrap">
      <div class="chronoTop">
        <div>
          <div class="chronoLabel">CRONÃ“METRO GLOBAL</div>
          <div id="chrono" class="chrono">00:00.00</div>
        </div>
        <div class="pill" id="pillState">DETENIDA</div>
      </div>
      <div id="chronoHint" class="chronoHint">ConfigurÃ¡ carriles â†’ iniciar serie.</div>
    </div>

    <div class="row">
      <label>Etiqueta</label>
      <input id="label" placeholder="Ej: Grupo A (opcional)" />
    </div>

    <div class="row">
      <label>Distancia</label>
      <select id="distance">
        <option value="50">50 m</option>
        <option value="75">75 m</option>
        <option value="100" selected>100 m</option>
        <option value="150">150 m</option>
        <option value="200">200 m</option>
        <option value="400">400 m</option>
      </select>
    </div>

    <div class="row">
      <label>Series</label>
      <select id="totalSeries"></select>
    </div>

    <div class="row grid-5">
      <div class="laneCfg"><span>Carril 1</span><input type="number" min="0" max="10" value="0" id="cfg1" /></div>
      <div class="laneCfg"><span>Carril 2</span><input type="number" min="0" max="10" value="0" id="cfg2" /></div>
      <div class="laneCfg"><span>Carril 3</span><input type="number" min="0" max="10" value="0" id="cfg3" /></div>
      <div class="laneCfg"><span>Carril 4</span><input type="number" min="0" max="10" value="0" id="cfg4" /></div>
      <div class="laneCfg"><span>Carril 5</span><input type="number" min="0" max="10" value="0" id="cfg5" /></div>
    </div>

    <div class="row actions">
      <button id="btnBuild" class="btn">Generar carriles</button>
      <button id="btnStart" class="btn primary">Iniciar Serie</button>
      <button id="btnStop" class="btn stop">Detener</button>
    </div>

    <div class="row actions">
      <button id="btnUndo" class="btn">â†© Deshacer</button>
      <button id="btnNextSeries" class="btn">â¡ï¸ Preparar Serie siguiente</button>
      <button id="btnReport" class="btn">ğŸ“Š Ver informe</button>
      <button id="btnExport" class="btn">â¬‡ Exportar CSV</button>
      <button id="btnClearAll" class="btn danger">ğŸ—‘ Borrar todo</button>
    </div>

    <div class="status">
      Estado: <strong id="statusText">DETENIDA</strong>
      <div class="hint" id="lastMsg">En cada serie: Iniciar â†’ registrar llegadas â†’ Detener â†’ descanso â†’ Serie siguiente.</div>
    </div>
  </section>

  <main id="lanes" class="lanes"></main>

  <section id="reportSection" class="reportSection hidden">
    <div class="reportHeader">
      <div>
        <div class="reportH1">ğŸ“Š Informe de esta serie</div>
        <div class="reportH2" id="reportSub">â€”</div>
      </div>
      <button id="btnHideReport" class="btn">Ocultar</button>
    </div>

    <div id="reportBody" class="reportBody"></div>

    <div class="reportFooter">
      <button id="btnExport2" class="btn primary">Exportar CSV (esta serie)</button>
    </div>
  </section>

  <section class="historySection">
    <div class="historyHeader">
      <div class="historyTitle">ğŸ—‚ Historial de series</div>
      <div class="historySub">Cada serie se guarda por separado en este dispositivo</div>
    </div>
    <div id="historyList" class="historyList"></div>
  </section>

  <script src="app.js"></script>
</body>
</html>




